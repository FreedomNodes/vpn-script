/*!
 Made with ❤️ in Hanoi
 Build fullhash:2af83bd1581f295b28b6, chunkhash:77afcb28462164ab75ff (2024-05-18 19:15:03)

 Author: Kien Tran
*/
(()=>{var Z=(E,b)=>(b=Symbol[E])?b:Symbol.for("Symbol."+E);var _=(E,b)=>()=>(b||E((b={exports:{}}).exports,b),b.exports);var V=(E,b,T)=>new Promise((w,e)=>{var i=n=>{try{r(T.next(n))}catch(o){e(o)}},t=n=>{try{r(T.throw(n))}catch(o){e(o)}},r=n=>n.done?w(n.value):Promise.resolve(n.value).then(i,t);r((T=T.apply(E,b)).next())});var H=(E,b,T)=>(b=E[Z("asyncIterator")])?b.call(E):(E=E[Z("iterator")](),b={},T=(w,e)=>(e=E[w])&&(b[w]=i=>new Promise((t,r,n)=>(i=e.call(E,i),n=i.done,Promise.resolve(i.value).then(o=>t({value:o,done:n}),r)))),T("next"),T("return"),b);var tt=_(Q=>{(()=>{"use strict";var E={9306:(e,i,t)=>{var r=t(4901),n=t(6823),o=TypeError;e.exports=function(a){if(r(a))return a;throw new o(n(a)+" is not a function")}},3506:(e,i,t)=>{var r=t(3925),n=String,o=TypeError;e.exports=function(a){if(r(a))return a;throw new o("Can't set "+n(a)+" as a prototype")}},6469:(e,i,t)=>{var r=t(8227),n=t(2360),o=t(4913).f,a=r("unscopables"),s=Array.prototype;s[a]===void 0&&o(s,a,{configurable:!0,value:n(null)}),e.exports=function(u){s[a][u]=!0}},8551:(e,i,t)=>{var r=t(34),n=String,o=TypeError;e.exports=function(a){if(r(a))return a;throw new o(n(a)+" is not an object")}},9617:(e,i,t)=>{var r=t(5397),n=t(5610),o=t(6198),a=function(s){return function(u,c,l){var p=r(u),v=o(p);if(v===0)return!s&&-1;var f=n(l,v),d;if(s&&c!==c){for(;v>f;)if(d=p[f++],d!==d)return!0}else for(;v>f;f++)if((s||f in p)&&p[f]===c)return s||f||0;return!s&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},4576:(e,i,t)=>{var r=t(9504),n=r({}.toString),o=r("".slice);e.exports=function(a){return o(n(a),8,-1)}},7740:(e,i,t)=>{var r=t(9297),n=t(5031),o=t(7347),a=t(4913);e.exports=function(s,u,c){for(var l=n(u),p=a.f,v=o.f,f=0;f<l.length;f++){var d=l[f];!r(s,d)&&!(c&&r(c,d))&&p(s,d,v(u,d))}}},2211:(e,i,t)=>{var r=t(9039);e.exports=!r(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype})},2529:e=>{e.exports=function(i,t){return{value:i,done:t}}},6699:(e,i,t)=>{var r=t(3724),n=t(4913),o=t(6980);e.exports=r?function(a,s,u){return n.f(a,s,o(1,u))}:function(a,s,u){return a[s]=u,a}},6980:e=>{e.exports=function(i,t){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:t}}},6840:(e,i,t)=>{var r=t(4901),n=t(4913),o=t(283),a=t(9433);e.exports=function(s,u,c,l){l||(l={});var p=l.enumerable,v=l.name!==void 0?l.name:u;if(r(c)&&o(c,v,l),l.global)p?s[u]=c:a(u,c);else{try{l.unsafe?s[u]&&(p=!0):delete s[u]}catch(f){}p?s[u]=c:n.f(s,u,{value:c,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return s}},9433:(e,i,t)=>{var r=t(4475),n=Object.defineProperty;e.exports=function(o,a){try{n(r,o,{value:a,configurable:!0,writable:!0})}catch(s){r[o]=a}return a}},3724:(e,i,t)=>{var r=t(9039);e.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},4055:(e,i,t)=>{var r=t(4475),n=t(34),o=r.document,a=n(o)&&n(o.createElement);e.exports=function(s){return a?o.createElement(s):{}}},7400:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9296:(e,i,t)=>{var r=t(4055),n=r("span").classList,o=n&&n.constructor&&n.constructor.prototype;e.exports=o===Object.prototype?void 0:o},9392:e=>{e.exports=typeof navigator!="undefined"&&String(navigator.userAgent)||""},7388:(e,i,t)=>{var r=t(4475),n=t(9392),o=r.process,a=r.Deno,s=o&&o.versions||a&&a.version,u=s&&s.v8,c,l;u&&(c=u.split("."),l=c[0]>0&&c[0]<4?1:+(c[0]+c[1])),!l&&n&&(c=n.match(/Edge\/(\d+)/),(!c||c[1]>=74)&&(c=n.match(/Chrome\/(\d+)/),c&&(l=+c[1]))),e.exports=l},8727:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6518:(e,i,t)=>{var r=t(4475),n=t(7347).f,o=t(6699),a=t(6840),s=t(9433),u=t(7740),c=t(2796);e.exports=function(l,p){var v=l.target,f=l.global,d=l.stat,P,h,g,S,m,I;if(f?h=r:d?h=r[v]||s(v,{}):h=r[v]&&r[v].prototype,h)for(g in p){if(m=p[g],l.dontCallGetSet?(I=n(h,g),S=I&&I.value):S=h[g],P=c(f?g:v+(d?".":"#")+g,l.forced),!P&&S!==void 0){if(typeof m==typeof S)continue;u(m,S)}(l.sham||S&&S.sham)&&o(m,"sham",!0),a(h,g,m,l)}}},9039:e=>{e.exports=function(i){try{return!!i()}catch(t){return!0}}},616:(e,i,t)=>{var r=t(9039);e.exports=!r(function(){var n=function(){}.bind();return typeof n!="function"||n.hasOwnProperty("prototype")})},9565:(e,i,t)=>{var r=t(616),n=Function.prototype.call;e.exports=r?n.bind(n):function(){return n.apply(n,arguments)}},350:(e,i,t)=>{var r=t(3724),n=t(9297),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=n(o,"name"),u=s&&function(){}.name==="something",c=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},6706:(e,i,t)=>{var r=t(9504),n=t(9306);e.exports=function(o,a,s){try{return r(n(Object.getOwnPropertyDescriptor(o,a)[s]))}catch(u){}}},9504:(e,i,t)=>{var r=t(616),n=Function.prototype,o=n.call,a=r&&n.bind.bind(o,o);e.exports=r?a:function(s){return function(){return o.apply(s,arguments)}}},7751:(e,i,t)=>{var r=t(4475),n=t(4901),o=function(a){return n(a)?a:void 0};e.exports=function(a,s){return arguments.length<2?o(r[a]):r[a]&&r[a][s]}},5966:(e,i,t)=>{var r=t(9306),n=t(4117);e.exports=function(o,a){var s=o[a];return n(s)?void 0:r(s)}},4475:function(e,i,t){var r=function(n){return n&&n.Math===Math&&n};e.exports=r(typeof globalThis=="object"&&globalThis)||r(typeof window=="object"&&window)||r(typeof self=="object"&&self)||r(typeof t.g=="object"&&t.g)||r(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},9297:(e,i,t)=>{var r=t(9504),n=t(8981),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(s,u){return o(n(s),u)}},421:e=>{e.exports={}},397:(e,i,t)=>{var r=t(7751);e.exports=r("document","documentElement")},5917:(e,i,t)=>{var r=t(3724),n=t(9039),o=t(4055);e.exports=!r&&!n(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!==7})},7055:(e,i,t)=>{var r=t(9504),n=t(9039),o=t(4576),a=Object,s=r("".split);e.exports=n(function(){return!a("z").propertyIsEnumerable(0)})?function(u){return o(u)==="String"?s(u,""):a(u)}:a},3706:(e,i,t)=>{var r=t(9504),n=t(4901),o=t(7629),a=r(Function.toString);n(o.inspectSource)||(o.inspectSource=function(s){return a(s)}),e.exports=o.inspectSource},1181:(e,i,t)=>{var r=t(8622),n=t(4475),o=t(34),a=t(6699),s=t(9297),u=t(7629),c=t(6119),l=t(421),p="Object already initialized",v=n.TypeError,f=n.WeakMap,d,P,h,g=function(y){return h(y)?P(y):d(y,{})},S=function(y){return function(x){var O;if(!o(x)||(O=P(x)).type!==y)throw new v("Incompatible receiver, "+y+" required");return O}};if(r||u.state){var m=u.state||(u.state=new f);m.get=m.get,m.has=m.has,m.set=m.set,d=function(y,x){if(m.has(y))throw new v(p);return x.facade=y,m.set(y,x),x},P=function(y){return m.get(y)||{}},h=function(y){return m.has(y)}}else{var I=c("state");l[I]=!0,d=function(y,x){if(s(y,I))throw new v(p);return x.facade=y,a(y,I,x),x},P=function(y){return s(y,I)?y[I]:{}},h=function(y){return s(y,I)}}e.exports={set:d,get:P,has:h,enforce:g,getterFor:S}},4901:e=>{var i=typeof document=="object"&&document.all;e.exports=typeof i=="undefined"&&i!==void 0?function(t){return typeof t=="function"||t===i}:function(t){return typeof t=="function"}},2796:(e,i,t)=>{var r=t(9039),n=t(4901),o=/#|\.prototype\./,a=function(p,v){var f=u[s(p)];return f===l?!0:f===c?!1:n(v)?r(v):!!v},s=a.normalize=function(p){return String(p).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},4117:e=>{e.exports=function(i){return i==null}},34:(e,i,t)=>{var r=t(4901);e.exports=function(n){return typeof n=="object"?n!==null:r(n)}},3925:(e,i,t)=>{var r=t(34);e.exports=function(n){return r(n)||n===null}},6395:e=>{e.exports=!1},757:(e,i,t)=>{var r=t(7751),n=t(4901),o=t(1625),a=t(7040),s=Object;e.exports=a?function(u){return typeof u=="symbol"}:function(u){var c=r("Symbol");return n(c)&&o(c.prototype,s(u))}},3994:(e,i,t)=>{var r=t(7657).IteratorPrototype,n=t(2360),o=t(6980),a=t(687),s=t(6269),u=function(){return this};e.exports=function(c,l,p,v){var f=l+" Iterator";return c.prototype=n(r,{next:o(+!v,p)}),a(c,f,!1,!0),s[f]=u,c}},1088:(e,i,t)=>{var r=t(6518),n=t(9565),o=t(6395),a=t(350),s=t(4901),u=t(3994),c=t(2787),l=t(2967),p=t(687),v=t(6699),f=t(6840),d=t(8227),P=t(6269),h=t(7657),g=a.PROPER,S=a.CONFIGURABLE,m=h.IteratorPrototype,I=h.BUGGY_SAFARI_ITERATORS,y=d("iterator"),x="keys",O="values",j="entries",K=function(){return this};e.exports=function(Y,D,M,k,C,q,W){u(M,D,k);var B=function(A){if(A===C&&$)return $;if(!I&&A&&A in R)return R[A];switch(A){case x:return function(){return new M(this,A)};case O:return function(){return new M(this,A)};case j:return function(){return new M(this,A)}}return function(){return new M(this)}},z=D+" Iterator",U=!1,R=Y.prototype,L=R[y]||R["@@iterator"]||C&&R[C],$=!I&&L||B(C),X=D==="Array"&&R.entries||L,F,N,G;if(X&&(F=c(X.call(new Y)),F!==Object.prototype&&F.next&&(!o&&c(F)!==m&&(l?l(F,m):s(F[y])||f(F,y,K)),p(F,z,!0,!0),o&&(P[z]=K))),g&&C===O&&L&&L.name!==O&&(!o&&S?v(R,"name",O):(U=!0,$=function(){return n(L,this)})),C)if(N={values:B(O),keys:q?$:B(x),entries:B(j)},W)for(G in N)(I||U||!(G in R))&&f(R,G,N[G]);else r({target:D,proto:!0,forced:I||U},N);return(!o||W)&&R[y]!==$&&f(R,y,$,{name:C}),P[D]=$,N}},7657:(e,i,t)=>{var r=t(9039),n=t(4901),o=t(34),a=t(2360),s=t(2787),u=t(6840),c=t(8227),l=t(6395),p=c("iterator"),v=!1,f,d,P;[].keys&&(P=[].keys(),"next"in P?(d=s(s(P)),d!==Object.prototype&&(f=d)):v=!0);var h=!o(f)||r(function(){var g={};return f[p].call(g)!==g});h?f={}:l&&(f=a(f)),n(f[p])||u(f,p,function(){return this}),e.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:v}},6269:e=>{e.exports={}},6198:(e,i,t)=>{var r=t(8014);e.exports=function(n){return r(n.length)}},283:(e,i,t)=>{var r=t(9504),n=t(9039),o=t(4901),a=t(9297),s=t(3724),u=t(350).CONFIGURABLE,c=t(3706),l=t(1181),p=l.enforce,v=l.get,f=String,d=Object.defineProperty,P=r("".slice),h=r("".replace),g=r([].join),S=s&&!n(function(){return d(function(){},"length",{value:8}).length!==8}),m=String(String).split("String"),I=e.exports=function(y,x,O){P(f(x),0,7)==="Symbol("&&(x="["+h(f(x),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),O&&O.getter&&(x="get "+x),O&&O.setter&&(x="set "+x),(!a(y,"name")||u&&y.name!==x)&&(s?d(y,"name",{value:x,configurable:!0}):y.name=x),S&&O&&a(O,"arity")&&y.length!==O.arity&&d(y,"length",{value:O.arity});try{O&&a(O,"constructor")&&O.constructor?s&&d(y,"prototype",{writable:!1}):y.prototype&&(y.prototype=void 0)}catch(K){}var j=p(y);return a(j,"source")||(j.source=g(m,typeof x=="string"?x:"")),y};Function.prototype.toString=I(function(){return o(this)&&v(this).source||c(this)},"toString")},741:e=>{var i=Math.ceil,t=Math.floor;e.exports=Math.trunc||function(n){var o=+n;return(o>0?t:i)(o)}},2360:(e,i,t)=>{var r=t(8551),n=t(6801),o=t(8727),a=t(421),s=t(397),u=t(4055),c=t(6119),l=">",p="<",v="prototype",f="script",d=c("IE_PROTO"),P=function(){},h=function(y){return p+f+l+y+p+"/"+f+l},g=function(y){y.write(h("")),y.close();var x=y.parentWindow.Object;return y=null,x},S=function(){var y=u("iframe"),x="java"+f+":",O;return y.style.display="none",s.appendChild(y),y.src=String(x),O=y.contentWindow.document,O.open(),O.write(h("document.F=Object")),O.close(),O.F},m,I=function(){try{m=new ActiveXObject("htmlfile")}catch(x){}I=typeof document!="undefined"?document.domain&&m?g(m):S():g(m);for(var y=o.length;y--;)delete I[v][o[y]];return I()};a[d]=!0,e.exports=Object.create||function(x,O){var j;return x!==null?(P[v]=r(x),j=new P,P[v]=null,j[d]=x):j=I(),O===void 0?j:n.f(j,O)}},6801:(e,i,t)=>{var r=t(3724),n=t(8686),o=t(4913),a=t(8551),s=t(5397),u=t(1072);i.f=r&&!n?Object.defineProperties:function(l,p){a(l);for(var v=s(p),f=u(p),d=f.length,P=0,h;d>P;)o.f(l,h=f[P++],v[h]);return l}},4913:(e,i,t)=>{var r=t(3724),n=t(5917),o=t(8686),a=t(8551),s=t(6969),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,p="enumerable",v="configurable",f="writable";i.f=r?o?function(P,h,g){if(a(P),h=s(h),a(g),typeof P=="function"&&h==="prototype"&&"value"in g&&f in g&&!g[f]){var S=l(P,h);S&&S[f]&&(P[h]=g.value,g={configurable:v in g?g[v]:S[v],enumerable:p in g?g[p]:S[p],writable:!1})}return c(P,h,g)}:c:function(P,h,g){if(a(P),h=s(h),a(g),n)try{return c(P,h,g)}catch(S){}if("get"in g||"set"in g)throw new u("Accessors not supported");return"value"in g&&(P[h]=g.value),P}},7347:(e,i,t)=>{var r=t(3724),n=t(9565),o=t(8773),a=t(6980),s=t(5397),u=t(6969),c=t(9297),l=t(5917),p=Object.getOwnPropertyDescriptor;i.f=r?p:function(f,d){if(f=s(f),d=u(d),l)try{return p(f,d)}catch(P){}if(c(f,d))return a(!n(o.f,f,d),f[d])}},8480:(e,i,t)=>{var r=t(1828),n=t(8727),o=n.concat("length","prototype");i.f=Object.getOwnPropertyNames||function(s){return r(s,o)}},3717:(e,i)=>{i.f=Object.getOwnPropertySymbols},2787:(e,i,t)=>{var r=t(9297),n=t(4901),o=t(8981),a=t(6119),s=t(2211),u=a("IE_PROTO"),c=Object,l=c.prototype;e.exports=s?c.getPrototypeOf:function(p){var v=o(p);if(r(v,u))return v[u];var f=v.constructor;return n(f)&&v instanceof f?f.prototype:v instanceof c?l:null}},1625:(e,i,t)=>{var r=t(9504);e.exports=r({}.isPrototypeOf)},1828:(e,i,t)=>{var r=t(9504),n=t(9297),o=t(5397),a=t(9617).indexOf,s=t(421),u=r([].push);e.exports=function(c,l){var p=o(c),v=0,f=[],d;for(d in p)!n(s,d)&&n(p,d)&&u(f,d);for(;l.length>v;)n(p,d=l[v++])&&(~a(f,d)||u(f,d));return f}},1072:(e,i,t)=>{var r=t(1828),n=t(8727);e.exports=Object.keys||function(a){return r(a,n)}},8773:(e,i)=>{var t={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,n=r&&!t.call({1:2},1);i.f=n?function(a){var s=r(this,a);return!!s&&s.enumerable}:t},2967:(e,i,t)=>{var r=t(6706),n=t(34),o=t(7750),a=t(3506);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s=!1,u={},c;try{c=r(Object.prototype,"__proto__","set"),c(u,[]),s=u instanceof Array}catch(l){}return function(p,v){return o(p),a(v),n(p)&&(s?c(p,v):p.__proto__=v),p}}():void 0)},4270:(e,i,t)=>{var r=t(9565),n=t(4901),o=t(34),a=TypeError;e.exports=function(s,u){var c,l;if(u==="string"&&n(c=s.toString)&&!o(l=r(c,s))||n(c=s.valueOf)&&!o(l=r(c,s))||u!=="string"&&n(c=s.toString)&&!o(l=r(c,s)))return l;throw new a("Can't convert object to primitive value")}},5031:(e,i,t)=>{var r=t(7751),n=t(9504),o=t(8480),a=t(3717),s=t(8551),u=n([].concat);e.exports=r("Reflect","ownKeys")||function(l){var p=o.f(s(l)),v=a.f;return v?u(p,v(l)):p}},7750:(e,i,t)=>{var r=t(4117),n=TypeError;e.exports=function(o){if(r(o))throw new n("Can't call method on "+o);return o}},687:(e,i,t)=>{var r=t(4913).f,n=t(9297),o=t(8227),a=o("toStringTag");e.exports=function(s,u,c){s&&!c&&(s=s.prototype),s&&!n(s,a)&&r(s,a,{configurable:!0,value:u})}},6119:(e,i,t)=>{var r=t(5745),n=t(3392),o=r("keys");e.exports=function(a){return o[a]||(o[a]=n(a))}},7629:(e,i,t)=>{var r=t(6395),n=t(4475),o=t(9433),a="__core-js_shared__",s=e.exports=n[a]||o(a,{});(s.versions||(s.versions=[])).push({version:"3.37.1",mode:r?"pure":"global",copyright:"\xA9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:(e,i,t)=>{var r=t(7629);e.exports=function(n,o){return r[n]||(r[n]=o||{})}},4495:(e,i,t)=>{var r=t(7388),n=t(9039),o=t(4475),a=o.String;e.exports=!!Object.getOwnPropertySymbols&&!n(function(){var s=Symbol("symbol detection");return!a(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&r&&r<41})},5610:(e,i,t)=>{var r=t(1291),n=Math.max,o=Math.min;e.exports=function(a,s){var u=r(a);return u<0?n(u+s,0):o(u,s)}},5397:(e,i,t)=>{var r=t(7055),n=t(7750);e.exports=function(o){return r(n(o))}},1291:(e,i,t)=>{var r=t(741);e.exports=function(n){var o=+n;return o!==o||o===0?0:r(o)}},8014:(e,i,t)=>{var r=t(1291),n=Math.min;e.exports=function(o){var a=r(o);return a>0?n(a,9007199254740991):0}},8981:(e,i,t)=>{var r=t(7750),n=Object;e.exports=function(o){return n(r(o))}},2777:(e,i,t)=>{var r=t(9565),n=t(34),o=t(757),a=t(5966),s=t(4270),u=t(8227),c=TypeError,l=u("toPrimitive");e.exports=function(p,v){if(!n(p)||o(p))return p;var f=a(p,l),d;if(f){if(v===void 0&&(v="default"),d=r(f,p,v),!n(d)||o(d))return d;throw new c("Can't convert object to primitive value")}return v===void 0&&(v="number"),s(p,v)}},6969:(e,i,t)=>{var r=t(2777),n=t(757);e.exports=function(o){var a=r(o,"string");return n(a)?a:a+""}},6823:e=>{var i=String;e.exports=function(t){try{return i(t)}catch(r){return"Object"}}},3392:(e,i,t)=>{var r=t(9504),n=0,o=Math.random(),a=r(1 .toString);e.exports=function(s){return"Symbol("+(s===void 0?"":s)+")_"+a(++n+o,36)}},7040:(e,i,t)=>{var r=t(4495);e.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},8686:(e,i,t)=>{var r=t(3724),n=t(9039);e.exports=r&&n(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},8622:(e,i,t)=>{var r=t(4475),n=t(4901),o=r.WeakMap;e.exports=n(o)&&/native code/.test(String(o))},8227:(e,i,t)=>{var r=t(4475),n=t(5745),o=t(9297),a=t(3392),s=t(4495),u=t(7040),c=r.Symbol,l=n("wks"),p=u?c.for||c:c&&c.withoutSetter||a;e.exports=function(v){return o(l,v)||(l[v]=s&&o(c,v)?c[v]:p("Symbol."+v)),l[v]}},3792:(e,i,t)=>{var r=t(5397),n=t(6469),o=t(6269),a=t(1181),s=t(4913).f,u=t(1088),c=t(2529),l=t(6395),p=t(3724),v="Array Iterator",f=a.set,d=a.getterFor(v);e.exports=u(Array,"Array",function(h,g){f(this,{type:v,target:r(h),index:0,kind:g})},function(){var h=d(this),g=h.target,S=h.index++;if(!g||S>=g.length)return h.target=void 0,c(void 0,!0);switch(h.kind){case"keys":return c(S,!1);case"values":return c(g[S],!1)}return c([S,g[S]],!1)},"values");var P=o.Arguments=o.Array;if(n("keys"),n("values"),n("entries"),!l&&p&&P.name!=="values")try{s(P,"name",{value:"values"})}catch(h){}},2953:(e,i,t)=>{var r=t(4475),n=t(7400),o=t(9296),a=t(3792),s=t(6699),u=t(687),c=t(8227),l=c("iterator"),p=a.values,v=function(d,P){if(d){if(d[l]!==p)try{s(d,l,p)}catch(g){d[l]=p}if(u(d,P,!0),n[P]){for(var h in a)if(d[h]!==a[h])try{s(d,h,a[h])}catch(g){d[h]=a[h]}}}};for(var f in n)v(r[f]&&r[f].prototype,f);v(o,"DOMTokenList")}},b={};function T(e){var i=b[e];if(i!==void 0)return i.exports;var t=b[e]={exports:{}};return E[e].call(t.exports,t,t.exports,T),t.exports}T.n=e=>{var i=e&&e.__esModule?()=>e.default:()=>e;return T.d(i,{a:i}),i},T.d=(e,i)=>{for(var t in i)T.o(i,t)&&!T.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:i[t]})},T.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(e){if(typeof window=="object")return window}}(),T.o=(e,i)=>Object.prototype.hasOwnProperty.call(e,i);var w={};(()=>{var e=T(2953),i=T.n(e);if(typeof $request!="undefined"&&$request){const r=$request.url,n=/^https:\/\/testflight\.apple\.com\/v3\/accounts\/(.*?)\/apps/,o=r.match(n)?r.match(n)[1]:null,a=s=>{if(s&&s[1]){const u=s[1],c=$persistentStore.read("APP_ID"),l=new Set(c?c.split(","):[]);l.has(u)?($notification.post("APP_ID is duplicated","","APP_ID: ".concat(u," It already exists, no need to add it again."),{"auto-dismiss":2}),console.log("APP_ID: ".concat(u," It already exists, no need to add it again."))):(l.add(u),$persistentStore.write(Array.from(l).join(","),"APP_ID"),$notification.post("APP_ID captured","","APP_ID captured and stored: ".concat(u),{"auto-dismiss":2}),console.log("APP_ID captured and stored: ".concat(u)))}else console.log("No valid TestFlight APP_ID captured")};if(/^https:\/\/testflight\.apple\.com\/v3\/accounts\/.*\/apps$/.test(r)&&o){const s=Object.fromEntries(Object.entries($request.headers).map(v=>{let[f,d]=v;return[f.toLowerCase(),d]})),u=s["x-session-id"],c=s["x-session-digest"],l=s["x-request-id"];$persistentStore.write(u,"session_id"),$persistentStore.write(c,"session_digest"),$persistentStore.write(l,"request_id"),$persistentStore.write(o,"key"),$persistentStore.read("APP_ID")||$notification.post("Information obtained successfully \u{1F389}","","Please obtain the APP_ID and edit the module parameters to disable the script.",{"auto-dismiss":10}),console.log("Information obtained successfully: session_id=".concat(u,", session_digest=").concat(c,", request_id=").concat(l,", key=").concat(o))}else if(/^https:\/\/testflight\.apple\.com\/join\/([A-Za-z0-9]+)$/.test(r)){const s=r.match(/^https:\/\/testflight\.apple\.com\/join\/([A-Za-z0-9]+)$/);a(s)}else if(/v3\/accounts\/.*\/ru/.test(r)){const s=r.match(/v3\/accounts\/.*\/ru\/(.*)/);a(s)}$done({})}else V(Q,null,function*(){let r=$persistentStore.read("APP_ID");if(!r)console.log("APP_ID not detected"),$done();else{r=r.split(",");try{for(var n=H(r),o,a,s;o=!(a=yield n.next()).done;o=!1){const u=a.value;yield t(u,r)}}catch(a){s=[a]}finally{try{o&&(a=n.return)&&(yield a.call(n))}finally{if(s)throw s[0]}}r.length===0?($notification.post("All TestFlights have been added \u{1F389}","","The module has automatically shut down and stopped running.",{sound:!0}),$done($httpAPI("POST","/v1/modules",{\u516C\u6D4B\u76D1\u63A7:!1}))):$done()}});function t(r,n){return V(this,null,function*(){const o=$persistentStore.read("key"),a="https://testflight.apple.com/v3/accounts/".concat(o,"/ru/"),s={"X-Session-Id":$persistentStore.read("session_id"),"X-Session-Digest":$persistentStore.read("session_digest"),"X-Request-Id":$persistentStore.read("request_id")};return new Promise(u=>{$httpClient.get({url:a+r,headers:s},(c,l,p)=>{if(c){console.log("".concat(r," Network request failed: ").concat(c,"\uFF0CKeep APP_ID")),u();return}if(l.status===500){console.log("".concat(r," Server error, status code 500, reserved APP_ID")),u();return}if(l.status!==200){console.log("".concat(r," Not a valid link: status code ").concat(l.status,"\uFF0CRemove APP_ID")),n.splice(n.indexOf(r),1),$persistentStore.write(n.join(","),"APP_ID"),$notification.post("Not a valid TestFlight link","","".concat(r," has been removed"),{"auto-dismiss":2}),u();return}let v;try{v=JSON.parse(p)}catch(f){console.log("".concat(r," Response parsing failed: ").concat(f,"\uFF0Ckeep APP_ID")),u();return}if(!v||!v.data){console.log("".concat(r," Unable to accept invitation, keep APP_ID")),u();return}if(v.data.status==="FULL"){console.log("".concat(r," Test is full, keep APP_ID")),u();return}$httpClient.post({url:"".concat(a+r,"/accept"),headers:s},(f,d,P)=>{if(!f&&d.status===200){let h;try{h=JSON.parse(P)}catch(g){console.log("".concat(r," Join request response parsing failed: ").concat(g,"\uFF0CKeep APP_ID")),u();return}console.log("".concat(h.data.name," TestFlight joined successfully")),n.splice(n.indexOf(r),1),$persistentStore.write(n.join(","),"APP_ID"),n.length>0?$notification.post("".concat(h.data.name," TestFlight joined successfully"),"","Continue to execute APP ID\uFF1A".concat(n.join(",")),{sound:!0}):$notification.post("".concat(h.data.name," TestFlight joined successfully"),"","All APP IDs have been processed",{sound:!0})}else console.log("".concat(r," Failed to join: ").concat(f||"status code ".concat(d.status),"\uFF0CKeep APP_ID"));u()})})})})}})()})()});tt();})();
